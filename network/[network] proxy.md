# proxy

![proxy](https://user-images.githubusercontent.com/87363422/182031363-3e17633c-5314-459d-9831-97a2d616a39b.png)

## Proxy란?

> Proxy의 사전적 의미는 **대리**, **대리인**이다.
> 클라이언트와 서버 사이에서 중계 역할을 하며 대리로 통신을 수행해주는 것을 프록시라 하고, 그 중계 기능을 하는 서버를 프록시 서버라 부른다!

프록시는 주로 보안상의 이유로 직접 통신을 주고 받을 수 없는 클라이언트와 서버 **중간**에 위치하면서 클라이언트의 모든 HTTP 요청을 받아 서버에 전달한다.

⇒ 프록시 서버는 클라이언트 입장과 서버의 입장에서 볼 때 서로 상반되는 역할로 인식한다.

- 클라이언트는 프록시 서버를 **서버**로 인식
- 서버는 프록시 서버를 **클라이언트**로 인식

---

## Proxy 서버를 쓰는 이유?

### 1. 보안

- 클라이언트 IP 보호 : 클라이언트 측에서 프록시 서버를 거쳐 웹 서비스를 이용할 경우, 서버 측에서는 요청을 받을 때 클라이언트의 IP가 아닌 프록시 서버의 IP를 전달받게 된다.
  ⇒ 서버 측에 클라이언트의 정보를 숨길 수 있게 된다.
- 서버 보안 : 보안을 위해 DMZ같은 네트워크에 프록시 서버를 구성하여 서버에 직접 접근하는 것을 막는다.

### 2. 캐싱을 통한 속도 향상

프록시 서버는 요청이 들어오면 해당 요청에 대한 응답 결과를 저장(캐시)하여 추후 다른 클라이언트가 같은 요청을 보낼 경우 서버에 또 다시 요청하는 것이 아니라 프록시 서버에 저장된 캐시 데이터를 응답해주게 된다.

이를 통해 전송 시간을 절약할 수 있고, 외부 트래픽을 줄임으로써 네트워크 병목 현상도 방지하여 서비스의 속도를 높여준다!

### 3. 접속 우회

지역 제한이 걸려있는 사이트는 요청을 한 클라이언트의 IP를 검사하여 접속을 제한하게 되는데 이 때 프록시 서버를 사용하면 IP를 속일 수 있기 때문에 접속 제한을 우회 가능하다.

### 4. 클라이언트 관리

서버에게는 클라이언트의 정보가 보호되지만 프록시 서버에는 클라이언트의 기록이 남아있게 된다. 이 기록들을 보면 어떤 IP에서 어디에 얼마나 오래 접속했는지 기록을 확인할 수 있으며, 프록시 서버가 방문할 수 있는 웹사이트를 제한하는 것도 가능하다.

즉, 연결된 클라이언트들의 정보를 제어할 수 있기 때문에 회사에서 많이 사용한다.

---

## Proxy 서버 종류

프록시 서버는 네트워크를 기준으로 어디에 위치해 있냐에 따라 두 가지로 나눌 수 있다.

### 1. Forward Proxy

> **클라이언트 대신 서버로 요청을 보냄**

![Forward](https://user-images.githubusercontent.com/87363422/182031365-69016ae9-6df8-49c6-b833-71446c023110.png)

일반적으로 우리가 컴퓨터를 사용할 때 설정하는 프록시들이 바로 포워드 프록시이다.

포워드 프록시의 동작을 글로 표현하자면

> 클라이언트가 naver.com에 연결하려고 하면 사용자 PC가 직접 연결하는 것이 아니라 포워드 프록시가 해당 요청을 받아서 naver.com에 연결하고 그 결과를 클라이언트에게 전달한다.

이런 포워드 프록시에는 대게 캐싱 기능이 강화되어 성능적으로 네트워크 비용에 대한 감소를 얻을 수 있다.

### 2. Reverse Proxy

> **서버 대신 클라이언트의 요청을 받음**

![Reverse](https://user-images.githubusercontent.com/87363422/182031367-cc80fa51-14e9-44c9-9e23-e8eaad0b9210.png)

위의 Proxy 서버를 쓰는 이유에서 설명했던 내부 서버 보안을 위해 사용된다.
