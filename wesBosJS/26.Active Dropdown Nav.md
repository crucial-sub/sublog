# 26. ë™ì ì¸ ë“œë¡­ë‹¤ìš´ Nav

![á„‘á…³á„…á…µá„‡á…²](https://user-images.githubusercontent.com/87363422/156441216-1023f374-7787-4f6f-b277-3359528eb34b.png)

```
ğŸ’¡ ì±•í„°22 Following Highlightì—ì„œ ë°°ìš´ ë‚´ìš©ì„ í™œìš©í•˜ì—¬ ë©”ë‰´ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ í° ë°°ê²½ì˜ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ê°€ ë‚˜ì˜¤ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ì!
```

## ë¡œì§

1. ìƒìˆ˜ ì„ ì–¸
2. ëª¨ë“  `<li>`íƒœê·¸ì— ë§ˆìš°ìŠ¤ì´ë²¤íŠ¸ì— ëŒ€í•œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í• ë‹¹
3. classë¥¼ ì¶”ê°€/ì œê±°í•˜ì—¬ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ë³´ì´ê³  ì•ˆë³´ì´ê³ ë¥¼ ì œì–´
4. ë“œë¡­ë‹¤ìš´ ë©”ë‰´ì˜ ìœ„ì¹˜ë¥¼ êµ¬í•´ í° ë°°ê²½ ì ìš©

---

## ì½”ë”© ê³¼ì •

### **1. ìƒìˆ˜ ì„ ì–¸**

```jsx
//Navì•ˆì˜ ëª¨ë“  <li>íƒœê·¸ì— ì´ë²¤íŠ¸ë¥¼ ê±¸ì–´ì¤˜ì•¼í•œë‹¤.
const triggers = document.querySelectorAll(".cool > li");
//ë“œë¡­ë‹¤ìš´ì„ ë”°ë¼ë‹¤ë‹ í° ë°°ê²½
const background = document.querySelector(".dropdownBackground");
```

### **2. ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ & ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬**

```jsx
function handleEnter() {
  console.log("mouseenter!!!");
}

function handleLeave() {
  console.log("mouseleave!!!");
}

triggers.forEach((trigger) =>
  trigger.addEventListener("mouseenter", handleEnter)
);
triggers.forEach((trigger) =>
  trigger.addEventListener("mouseleave", handleLeave)
);
```

### **3. ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ì œì–´**

```jsx
function handleEnter() {
  this.classList.add("trigger-enter");
  setTimeout(
    () =>
      this.classList.contains("trigger-enter") &&
      this.classList.add("trigger-enter-active"),
    150
  );
}

function handleLeave() {
  this.classList.remove("trigger-enter", "trigger-enter-active");
  background.classList.remove("open");
}

triggers.forEach((trigger) =>
  trigger.addEventListener("mouseenter", handleEnter)
);
triggers.forEach((trigger) =>
  trigger.addEventListener("mouseleave", handleLeave)
);
```

### CSS ì½”ë“œ

```css
.trigger-enter .dropdown {
  display: block;
}

.trigger-enter-active .dropdown {
  opacity: 1;
}
```

### setTimeout ê±¸ì–´ì£¼ê¸°

```jsx
function handleEnter() {
  this.classList.add("trigger-enter");
  this.classList.add("trigger-enter-active");
}
```

```
â‰ï¸ ìœ„ì— ì½”ë“œëŒ€ë¡œ ì‘ì„±í•  ê²½ìš° display : block íš¨ê³¼ì—ëŠ” transitionì´ ê±¸ë¦¬ì§€ ì•ŠëŠ”ë‹¤.
ë”°ë¼ì„œ setTimeoutì„ ì‚¬ìš©í•˜ì—¬ blockê³¼ opacity íš¨ê³¼ ì‚¬ì´ì— ì•½ê°„ì˜ í…€ì„ ë‘ì–´ ìì²´ì ì¸ transition íš¨ê³¼ë¥¼ ë§Œë“ ë‹¤.
```

### **4. ìœ„ì¹˜ ê³„ì‚° í›„ ë°°ê²½ ì ìš©**

```jsx
//
const nav = document.querySelector(".top");

function handleEnter() {
  this.classList.add("trigger-enter");
  setTimeout(
    () =>
      this.classList.contains("trigger-enter") &&
      this.classList.add("trigger-enter-active"),
    150
  );
  background.classList.add("open");

  const dropdown = this.querySelector(".dropdown");
  const dropdownCoords = dropdown.getBoundingClientRect();
  const navCoords = nav.getBoundingClientRect();

  const coords = {
    width: dropdownCoords.width,
    height: dropdownCoords.height,
    top: dropdownCoords.top - navCoords.top,
    left: dropdownCoords.left - navCoords.left,
  };

  background.style.setProperty("width", `${coords.width}px`);
  background.style.setProperty("height", `${coords.height}px`);
  background.style.setProperty(
    "transform",
    `translate(${coords.left}px, ${coords.top}px)`
  );
}
```

```
ğŸ’¡ <nav>ì˜ ë·°í¬íŠ¸ ìœ„ì¹˜ë¥¼ ê³ ë ¤í•´ ì£¼ì!
```

![á„‹á…±á„á…µá„‰á…®á„Œá…¥á†¼](https://user-images.githubusercontent.com/87363422/156441182-1b56f680-d668-4c83-8717-b6c5dc681e42.png)

> ë°°ê²½ì„ ì›€ì§ì¼ ë•Œ topê³¼ leftë¥¼ ë‹¨ìˆœíˆ dropdownCoords.top , dropdownCoords.left ë§Œí¼ ì›€ì§ì¼ ê²½ìš° ë°°ê²½ì´ ë“œë¡­ë‹¤ìš´ì„ ë²—ì–´ë‚˜ê²Œ ëœë‹¤.

`getBoundingClientRect()`ì—ì„œ `top`ê³¼ `left`ê°’ì€ ë·°í¬íŠ¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œí•œ ìœ„ì¹˜ê°’ì´ë‹¤.

í•˜ì§€ë§Œ ìš°ë¦¬ê°€ ì ìš©í•˜ê³ ìí•˜ëŠ” í° ë°°ê²½ì€ ì›€ì§ì¼ ë•Œ ë·°í¬íŠ¸ê°€ ì•„ë‹ˆë¼ ë¶€ëª¨ ìš”ì†Œì¸ `<nav>`íƒœê·¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì›€ì§ì¸ë‹¤.

ì¦‰ í˜ì´ì§€ ì™¼ìª½ ìƒë‹¨ì—ì„œë¶€í„° ì›€ì§ì´ëŠ”ê²Œ ì•„ë‹ˆë¼ `<nav>`ì˜ ì™¼ìª½ ìƒë‹¨ì—ì„œë¶€í„° ì›€ì§ì´ë¯€ë¡œ

`<nav>`ì˜ ë·°í¬íŠ¸ ìœ„ì¹˜ê°’ì„ ë¹¼ì¤€ë§Œí¼ ì›€ì§ì—¬ì•¼ ì œëŒ€ë¡œ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ë¥¼ ê°ìŒ€ ìˆ˜ ìˆë‹¤

![á„‹á…±á„á…µá„‹á…©á„…á…²](https://user-images.githubusercontent.com/87363422/156441210-5884917a-0b2c-4079-bfbf-026c081a52fe.png)

---

# ìµœì¢… ì™„ì„± ì½”ë“œ

```jsx
const triggers = document.querySelectorAll(".cool > li");
const background = document.querySelector(".dropdownBackground");
const nav = document.querySelector(".top");

function handleEnter() {
  this.classList.add("trigger-enter");
  setTimeout(
    () =>
      this.classList.contains("trigger-enter") &&
      this.classList.add("trigger-enter-active"),
    150
  );
  background.classList.add("open");

  const dropdown = this.querySelector(".dropdown");
  const dropdownCoords = dropdown.getBoundingClientRect();
  const navCoords = nav.getBoundingClientRect();

  const coords = {
    width: dropdownCoords.width,
    height: dropdownCoords.height,
    top: dropdownCoords.top - navCoords.top,
    left: dropdownCoords.left - navCoords.left,
  };

  background.style.setProperty("width", `${coords.width}px`);
  background.style.setProperty("height", `${coords.height}px`);
  background.style.setProperty(
    "transform",
    `translate(${coords.left}px, ${coords.top}px)`
  );
}

function handleLeave() {
  this.classList.remove("trigger-enter", "trigger-enter-active");
  background.classList.remove("open");
}

triggers.forEach((trigger) =>
  trigger.addEventListener("mouseenter", handleEnter)
);
triggers.forEach((trigger) =>
  trigger.addEventListener("mouseleave", handleLeave)
);
```
